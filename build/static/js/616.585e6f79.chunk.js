"use strict";(self.webpackChunkntask=self.webpackChunkntask||[]).push([[616],{5604:function(e,n,t){t.d(n,{Z:function(){return c}});t(2791);var i=t(5684),r=t(824),s=t(5863),l=t(1134),a=t(184);function o(e){var n=e.type,t=e.onChange,s=e.onBlur,l=e.value,o=e.innerRef;return"textarea"===n?(0,a.jsx)(i.g,{onChange:t,onBlur:s,value:l,ref:o}):(0,a.jsx)(r.II,{type:n,onChange:t,onBlur:s,value:l,ref:o})}function c(e){var n=e.control,t=e.name,i=e.type,r=e.label,c=e.rules,d=e.sx;return(0,a.jsx)(l.Qr,{name:t,rules:c,control:n,render:function(e){var n=e.field,t=n.onChange,l=n.onBlur,c=n.value,x=n.ref,u=e.fieldState.error;return(0,a.jsxs)(s.NI,{sx:d,isInvalid:!!u,children:[(0,a.jsx)(s.lX,{children:r}),(0,a.jsx)(o,{type:i,onChange:t,onBlur:l,value:c,innerRef:x}),u&&(0,a.jsx)(s.J1,{children:null===u||void 0===u?void 0:u.message})]})}})}},1616:function(e,n,t){t.r(n),t.d(n,{default:function(){return U}});var i=t(4229),r=t(4666),s=t(2791),l=t(9712),a=t(7269),o=t(824),c=t(5777),d=t(1363),x=t(793),u=t(9434),m=t(7689),f=t(1413),h=t(9439),j=t(7552),p=t(7335),v=t(1911),g=t(4828),D=t(2157),b=t(184);function k(e){var n=e.eventID,t=e.name,i=e.imageURL,r=e.startAt,s=e.endAt,a=e.members,o=(0,m.s0)(),x=function(e){return new Date(e).toLocaleString("vi-VN",{timeZone:"Asia/Ho_Chi_Minh"})};return(0,b.jsxs)(l.kC,{flexDirection:"column",p:5,mb:4,shadow:"md",borderWidth:"1px",borderRadius:"md",children:[i&&(0,b.jsx)(g.Ee,{src:i,alt:""}),(0,b.jsx)(l.xv,{fontWeight:"500",fontSize:"md",children:t}),(0,b.jsxs)(l.kC,{alignItems:"center",gap:2,children:[(0,b.jsx)(d.G,{icon:v.SZ,color:"gray"}),x(r)]}),(0,b.jsxs)(l.kC,{alignItems:"center",gap:2,children:[(0,b.jsx)(d.G,{icon:p.DH,color:"gray"}),x(s)]}),(0,b.jsx)(l.kC,{justifyContent:"flex-end",children:a&&(0,b.jsx)(D.HE,{size:"sm",max:2,children:a.map((function(e){return(0,b.jsx)(D.qE,{size:"sm",name:e.login,src:e.avatarUrl},e.login)}))})}),(0,b.jsx)(l.kC,{justifyContent:"flex-end",mt:3,children:(0,b.jsx)(c.zx,{colorScheme:"green",size:"sm",onClick:function(){o("/events/".concat(n))},children:"Chi ti\xea\u0301t"})})]})}var A=t(2767);function C(e){var n=e.title,t=e.dropgableID,i=e.eventStatus,r=(0,s.useState)([]),o=(0,h.Z)(r,2),c=o[0],d=o[1],m=(0,u.v9)((function(e){return e.eventMgmt})),p=m.loading,v=m.createdEvents,g=m.inprogressEvents,D=m.doneEvents;return(0,s.useEffect)((function(){i===A.N3.CREATED?d(v):i===A.N3.IN_PROGRESS?d(g):i===A.N3.DONE&&d(D)}),[v,g,D,i]),(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"column",flex:1,gap:"1rem"},children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,b.jsx)(l.xv,{fontSize:"xl",fontWeight:"500",children:n}),(0,b.jsx)(l.xv,{children:(null===c||void 0===c?void 0:c.length)||0})]}),(0,b.jsx)(x.bK,{droppableId:t,children:function(e,n){return(0,b.jsxs)(l.xu,{as:"div",ref:e.innerRef,bgColor:n.isDraggingOver&&a.rS.colors.gray[500],children:[p&&(0,b.jsx)(j.Ex,{size:"xs",isIndeterminate:!0}),c&&c.map((function(e,n){return(0,b.jsx)(x._l,{draggableId:"draggable_".concat(e.id),index:n,children:function(n,t){return(0,b.jsx)(l.xu,(0,f.Z)((0,f.Z)((0,f.Z)({as:"div",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{bgColor:t.isDragging&&a.rS.colors.gray[500],children:(0,b.jsx)(k,{eventID:e.id,name:e.name,imageURL:e.description,startAt:e.startAt,endAt:e.endAt,tags:e.tags,members:e.members})}))}},e.id)}))]})}})]})}var Y=t(3382),y=t(5830),I=t(338),S=t(3582),E=t(5604),T=t(1134),w=t(7892),z=t.n(w);function H(){var e=(0,u.I0)(),n=(0,m.s0)(),t=(0,m.TH)(),i=(0,T.cI)({defaultValues:{name:"",description:"",startAt:z()().format("YYYY-MM-DDTHH:mm"),endAt:z()().format("YYYY-MM-DDTHH:mm")}}),r=i.control,a=i.handleSubmit,o=i.watch,x=(0,s.useRef)({});x.current=o("startAt","");var h={name:{required:"Name is required"},description:{required:"Description is required"},startAt:{required:"Start time is required"},endAt:{required:"End time is required",validate:function(e){return z()(e).isAfter(z()(x.current.value))||"End time must be after start time"}}};return(0,b.jsxs)(S.u_,{isOpen:!0,onClose:function(){var e,i;n((null===(e=t.state)||void 0===e||null===(i=e.backgroundLocation)||void 0===i?void 0:i.pathname)||-1)},children:[(0,b.jsx)(S.ZA,{}),(0,b.jsxs)(S.hz,{children:[(0,b.jsx)(S.ol,{}),(0,b.jsx)(S.xB,{children:(0,b.jsxs)(l.xv,{fontSize:"2xl",fontWeight:"bold",color:"teal.600",children:[(0,b.jsx)(D.qE,{bg:"teal.500",color:"whiteAlpha.900",icon:(0,b.jsx)(d.G,{icon:I.WR})}),"\xa0T\u1ea1o s\u1ef1 ki\u1ec7n m\u1edbi"]})}),(0,b.jsx)(S.fe,{children:(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",width:"700",p:2},as:"form",onSubmit:a((function(n){var t=z()(n.startAt).format("YYYY-MM-DDTHH:mm:ssZ"),i=z()(n.endAt).format("YYYY-MM-DDTHH:mm:ssZ");e((0,Y.yM)((0,f.Z)((0,f.Z)({},n),{},{startAt:t,endAt:i})))})),children:[(0,b.jsx)(E.Z,{control:r,name:"name",type:"text",label:"T\xean s\u1ef1 ki\u1ec7n",rules:h.name}),(0,b.jsx)(E.Z,{control:r,name:"description",type:"textarea",label:"M\xf4 t\u1ea3",rules:h.description}),(0,b.jsx)(E.Z,{control:r,name:"startAt",type:"datetime-local",label:"B\u1eaft \u0111\u1ea7u",rules:h.startAt}),(0,b.jsx)(E.Z,{control:r,name:"endAt",type:"datetime-local",label:"K\u1ebft th\xfac",rules:h.endAt}),(0,b.jsxs)(c.zx,{type:"submit",width:"100%",mt:2,children:[(0,b.jsx)(d.G,{icon:y.Ed}),"\xa0L\u01b0u"]})]})})]})]})}var Z=t(3433),M=t(5521),N=t(7507),R=t(5863),O=t(7717),q=t(8096);function G(e){var n=e.title,t=e.data,i=e.onClickDetail,r=e.onClickDelete,s=e.TicketComponent;return(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"column",flex:1,gap:"1rem"},children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,b.jsx)(l.xv,{fontSize:"xl",fontWeight:"500",children:n}),(0,b.jsx)(l.xv,{children:(null===t||void 0===t?void 0:t.length)||0})]}),t&&0!==t.length?(0,b.jsx)(l.xu,{children:t.map((function(e){return(0,b.jsx)(s,(0,f.Z)({onClickDetail:function(){return i(e.id)},onClickDelete:function(){return r(e.id)}},e),e.id)}))}):(0,b.jsxs)(q.bZ,{status:"warning",children:[(0,b.jsx)(q.zM,{}),"Kh\xf4ng co\u0301 ticket na\u0300o"]})]})}var B=t(6534),W=t(625);function L(e){var n=e.name,t=e.startAt,i=e.endAt,r=e.members,s=e.onClickDetail,a=e.onClickDelete;return(0,b.jsxs)(l.kC,{sx:{display:"flex",flexDirection:"column",shadow:"md",borderWidth:"1px",borderRadius:"md",mb:4,p:4},children:[(0,b.jsx)(l.xv,{fontWeight:"500",fontSize:"md",children:n}),(0,b.jsxs)(l.kC,{alignItems:"center",gap:2,children:[(0,b.jsx)(d.G,{icon:v.SZ,color:"gray"}),(0,A.rJ)(t)]}),(0,b.jsxs)(l.kC,{alignItems:"center",gap:2,children:[(0,b.jsx)(d.G,{icon:p.DH,color:"gray"}),(0,A.rJ)(i)]}),(0,b.jsx)(l.kC,{justifyContent:"flex-end",children:r&&(0,b.jsx)(D.HE,{size:"sm",max:2,children:r.map((function(e){return(0,b.jsx)(D.qE,{size:"sm",name:e.login,src:e.avatarUrl},e.login)}))})}),(0,b.jsxs)(l.kC,{justifyContent:"flex-end",mt:3,children:[(0,b.jsxs)(c.zx,{colorScheme:"teal",size:"md",onClick:s,children:[(0,b.jsx)(d.G,{icon:W.Iw}),"\xa0Chi ti\xea\u0301t"]}),"\xa0",(0,b.jsxs)(c.zx,{colorScheme:"red",size:"md",onClick:a,children:[(0,b.jsx)(d.G,{icon:B.$}),"\xa0X\xf3a"]})]})]})}function X(e){var n=e.isOpen,t=e.onClose,i=e.memberID,r=e.onRemoveMember;return(0,b.jsxs)(S.u_,{isOpen:n,onClose:t,children:[(0,b.jsx)(S.ZA,{}),(0,b.jsxs)(S.hz,{children:[(0,b.jsx)(S.xB,{children:"X\xe1c nh\u1eadn x\xf3a th\xe0nh vi\xean"}),(0,b.jsx)(S.ol,{}),(0,b.jsx)(S.fe,{children:(0,b.jsxs)(l.xv,{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a th\xe0nh vi\xean ",i,"?"]})}),(0,b.jsxs)(S.mz,{children:[(0,b.jsx)(c.zx,{colorScheme:"red",mr:3,onClick:function(){r(i),t()},children:"\u0110\u1ed3ng \xfd"}),(0,b.jsx)(c.zx,{variant:"ghost",onClick:t,children:"H\u1ee7y"})]})]})]})}function _(){var e=(0,m.UO)().eventID,n=(0,u.I0)(),t=(0,m.TH)(),a=(0,m.s0)(),x=(0,u.v9)((function(e){return e.eventMgmt})),j=x.selectedEvent,p=x.users,v=x.tasks,g=x.updateSuccess,k=x.deleteTaskSuccess,C=(0,T.cI)({defaultValues:{name:"",description:"",startAt:z()().format("YYYY-MM-DDTHH:mm"),endAt:z()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),status:""}}),I=C.control,S=C.handleSubmit,w=C.watch,H=C.setValue,q=(0,s.useRef)({});q.current=w("startAt",z()().format("YYYY-MM-DDTHH:mm"));var B,W=(0,s.useRef)({}),_=(0,s.useState)([]),P=(0,h.Z)(_,2),$=P[0],J=P[1],U=(0,s.useState)(""),V=(0,h.Z)(U,2),K=V[0],Q=V[1],F=(0,s.useState)(!1),ee=(0,h.Z)(F,2),ne=ee[0],te=ee[1],ie=(B="task",function(e){if("event"===B){var n=e.name,t=e.startAt,i=e.endAt,r=e.members,s=e.onClickDetail;return(0,b.jsx)(L,{name:n,startAt:t,endAt:i,members:r,onClickDetail:s})}if("task"===B){var l=e.name,a=e.startAt,o=e.endAt,c=e.assignees,d=e.onClickDetail,x=e.onClickDelete;return(0,b.jsx)(L,{name:l,startAt:a,endAt:o,members:c,onClickDetail:d,onClickDelete:x})}}),re={name:{required:"T\xean s\u1ef1 ki\u1ec7n l\xe0 b\u1eaft bu\u1ed9c"},description:{required:"M\xf4 t\u1ea3 l\xe0 b\u1eaft bu\u1ed9c"},startAt:{required:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u l\xe0 b\u1eaft bu\u1ed9c"},endAt:{required:"Th\u1eddi gian k\u1ebft th\xfac l\xe0 b\u1eaft bu\u1ed9c",validate:function(e){return z()(e).isAfter(z()(q.current))||"Th\u1eddi gian k\u1ebft th\xfac ph\u1ea3i sau th\u1eddi gian b\u1eaft \u0111\u1ea7u"}},status:{required:"Tr\u1ea1ng th\xe1i s\u1ef1 ki\u1ec7n l\xe0 b\u1eaft bu\u1ed9c"}};(0,s.useEffect)((function(){n((0,Y.EY)(e)),n((0,Y.Jv)({eventID:e,page:0,size:100}))}),[]),(0,s.useEffect)((function(){g&&(n((0,Y.EY)(e)),n((0,Y.Jv)({eventID:e,page:0,size:100})))}),[g]),(0,s.useEffect)((function(){j&&(H("name",j.name),H("description",j.description),H("startAt",z()(j.startAt).format("YYYY-MM-DDTHH:mm")),H("endAt",z()(j.endAt).format("YYYY-MM-DDTHH:mm")),H("status",j.status),J(j.members.map((function(e){return{user:e.id,role:e.eventRole.id}}))))}),[j]),(0,s.useEffect)((function(){var i,r;k&&(n((0,Y.Jv)({eventID:e,page:0,size:100})),a((null===(i=t.state)||void 0===i||null===(r=i.backgroundLocation)||void 0===r?void 0:r.pathname)||-1))}),k);var se=function(e){a("".concat(t.pathname,"/tasks/").concat(e),{state:{backgroundLocation:t}})},le=function(e){a("".concat(t.pathname,"/tasks/").concat(e,"/delete"),{state:{backgroundLocation:t}})};return(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"column",gap:"0.2rem",width:"100%"},children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,b.jsxs)(l.xv,{fontSize:"2xl",fontWeight:"bold",color:"teal.600",children:[(0,b.jsx)(D.qE,{bg:"teal.500",color:"whiteAlpha.900",icon:(0,b.jsx)(d.G,{icon:N.a1})}),"\xa0Chi ti\u1ebft s\u1ef1 ki\u1ec7n"]}),(0,b.jsx)(c.zx,{colorScheme:"telegram",variant:"outline",onClick:function(){a("/events")},children:(0,b.jsx)(d.G,{icon:M.ac})})]}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",gap:"0.5rem"},children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"column",flex:2,gap:"0.5rem",p:2},as:"form",onSubmit:S((function(t){var i=z()(t.startAt).format("YYYY-MM-DDTHH:mm:ssZ"),r=z()(t.endAt).format("YYYY-MM-DDTHH:mm:ssZ");n((0,Y.eJ)((0,f.Z)((0,f.Z)({},t),{},{eventID:e,startAt:i,endAt:r,members:$})))})),children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",gap:"1rem"},children:[(0,b.jsx)(E.Z,{sx:{flex:2},control:I,name:"name",type:"text",label:"T\xean s\u1ef1 ki\u1ec7n",rules:re.name}),(0,b.jsx)(T.Qr,{name:"status",rules:re.status,control:I,render:function(e){var n=e.field,t=n.onChange,i=n.onBlur,r=n.value,s=n.ref,l=e.fieldState.error;return(0,b.jsxs)(R.NI,{sx:{flex:1},isInvalid:!!l,children:[(0,b.jsx)(R.lX,{children:"Tr\u1ea1ng th\xe1i"}),(0,b.jsxs)(O.Ph,{onChange:t,onBlur:i,value:r,ref:s,children:[(0,b.jsx)("option",{value:A.N3.CREATED,children:A.X$.CREATED}),(0,b.jsx)("option",{value:A.N3.IN_PROGRESS,children:A.X$.IN_PROGRESS}),(0,b.jsx)("option",{value:A.N3.DONE,children:A.X$.DONE})]}),l&&(0,b.jsx)(R.J1,{children:null===l||void 0===l?void 0:l.message})]})}})]}),(0,b.jsx)(E.Z,{control:I,name:"description",type:"textarea",label:"M\xf4 t\u1ea3",rules:re.description}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",gap:"1rem"},children:[(0,b.jsx)(E.Z,{sx:{flex:1},control:I,name:"startAt",type:"datetime-local",label:"B\u1eaft \u0111\u1ea7u",rules:re.startAt}),(0,b.jsx)(E.Z,{sx:{flex:1},control:I,name:"endAt",type:"datetime-local",label:"K\u1ebft th\xfac",rules:re.endAt})]}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"1rem"},children:[(0,b.jsx)(l.xu,{direction:"row",sx:{flexWrap:"wrap",justifyContent:"flex-start",span:{width:"1.5rem",height:"1.5rem",m:1,div:{fontSize:"9pt"}}},children:null===$||void 0===$?void 0:$.map((function(e){return(0,b.jsx)(l.xu,{cursor:"pointer",display:"inline-block",onClick:function(){return n=e.user,te(!0),void Q(n);var n},children:(0,b.jsx)(D.qE,{name:e.name,src:e.avatarUrl})},"member-".concat(e.user))}))}),(0,b.jsxs)(c.zx,{type:"submit",variant:"outline",colorScheme:"facebook",children:[(0,b.jsx)(d.G,{icon:y.Ed}),"\xa0L\u01b0u"]})]})]}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flex:1,flexDirection:"column",gap:"0.5rem",p:2,width:"max-content"},children:[(0,b.jsxs)(l.xu,{children:[(0,b.jsx)(R.lX,{children:"T\xecm ki\u1ebfm ng\u01b0\u1eddi d\xf9ng"}),(0,b.jsxs)(l.xu,{as:"div",sx:{display:"flex",flexDirection:"row",gap:"0.3rem"},children:[(0,b.jsx)(o.II,{ref:W,placeholder:"Nh\u1eadp email"}),(0,b.jsx)(c.zx,{colorScheme:"teal",onClick:function(){n((0,Y.uh)({q:W.current.value,page:0,size:6}))},children:(0,b.jsx)(d.G,{icon:r.Y$})})]})]}),p.length>0&&(0,b.jsx)(l.xu,{sx:{display:"flex",flexDirection:"column",gap:"0.3rem",width:"100%",alignItems:"start"},children:p.map((function(e){return(0,b.jsxs)(c.zx,{variant:"ghost",onClick:function(){return n=e,void J([].concat((0,Z.Z)($),[{user:n.id,role:A.UB}]));var n},children:[(0,b.jsx)(D.qE,{name:e.login,src:e.avatarUrl,size:"sm",bg:"teal.500",color:"whiteAlpha.900"},"user-".concat(e.id)),"\xa0",e.login]},JSON.stringify(e))}))})]})]}),(0,b.jsx)(l.iz,{}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",gap:"0.2rem",mt:3},children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDir:"row",flex:1},as:"form",noValidate:!0,children:[(0,b.jsx)(o.II,{placeholder:"Ti\u0300m ki\xea\u0301m..."}),(0,b.jsx)(c.zx,{type:"submit",children:(0,b.jsx)(d.G,{icon:r.Y$})})]}),(0,b.jsxs)(c.zx,{colorScheme:"green",onClick:function(){a("".concat(t.pathname,"/tasks/new"),{state:{backgroundLocation:t}})},children:[(0,b.jsx)(d.G,{icon:i.r8}),"\xa0",(0,b.jsx)(l.xv,{display:{base:"none",md:"inline"},children:"Th\xeam task"})]})]}),(0,b.jsx)(X,{isOpen:ne,onClose:function(){te(!1),Q("")},memberID:K,onRemoveMember:function(e){J($.filter((function(n){return n.user!==e})))}}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",gap:"1rem"},children:[(0,b.jsx)(G,{title:"S\u1eafp di\u1ec5n ra",data:(null===v||void 0===v?void 0:v.filter((function(e){return e.status===A.N3.CREATED})))||[],onClickDetail:se,onClickDelete:le,TicketComponent:ie}),(0,b.jsx)(G,{title:"\u0110ang di\u1ec5n ra",data:(null===v||void 0===v?void 0:v.filter((function(e){return e.status===A.N3.IN_PROGRESS})))||[],onClickDetail:se,onClickDelete:le,TicketComponent:ie}),(0,b.jsx)(G,{title:"\u0110\xe3 k\u1ebft th\xfac",data:(null===v||void 0===v?void 0:v.filter((function(e){return e.status===A.N3.DONE})))||[],onClickDetail:se,onClickDelete:le,TicketComponent:ie})]})]})}function P(){var e,n,t=(0,m.UO)(),i=t.eventID,r=t.taskID,a=void 0===r||null===r,o=(0,u.I0)(),x=(0,m.TH)(),j=(0,m.s0)(),p=(0,u.v9)((function(e){return e.eventMgmt})),v=p.selectedTask,g=p.selectedEvent,k=(0,T.cI)({defaultValues:{name:"",description:"",startAt:z()().format("YYYY-MM-DDTHH:mm"),endAt:z()().add(1,"hour").format("YYYY-MM-DDTHH:mm"),status:A.N3.CREATED}}),C=k.control,I=k.handleSubmit,w=k.watch,H=k.setValue,M=(0,s.useRef)({});M.current=w("startAt",z()().format("YYYY-MM-DDTHH:mm"));var q=(0,s.useState)([]),G=(0,h.Z)(q,2),B=G[0],W=G[1],L={name:{required:"B\u1eaft bu\u1ed9c nh\u1eadp t\xean c\xf4ng vi\u1ec7c"},startAt:{required:"B\u1eaft bu\u1ed9c nh\u1eadp th\u1eddi gian b\u1eaft \u0111\u1ea7u"},endAt:{required:"B\u1eaft bu\u1ed9c nh\u1eadp th\u1eddi gian k\u1ebft th\xfac",validate:function(e){return z()(e).isAfter(z()(M.current))||"Th\u1eddi gian k\u1ebft th\xfac ph\u1ea3i sau th\u1eddi gian b\u1eaft \u0111\u1ea7u"}},status:{required:"B\u1eaft bu\u1ed9c nh\u1eadp tr\u1ea1ng th\xe1i"}};(0,s.useEffect)((function(){a||o((0,Y._X)(r))}),[]),(0,s.useEffect)((function(){!a&&v&&(H("name",v.name),H("description",v.description),H("startAt",z()(v.startAt).format("YYYY-MM-DDTHH:mm")),H("endAt",z()(v.endAt).format("YYYY-MM-DDTHH:mm")),H("status",v.status),W(v.assignees))}),[v]);return(0,b.jsxs)(S.u_,{isOpen:!0,onClose:function(){var e,n;j((null===(e=x.state)||void 0===e||null===(n=e.backgroundLocation)||void 0===n?void 0:n.pathname)||-1)},children:[(0,b.jsx)(S.ZA,{}),(0,b.jsxs)(S.hz,{sx:{maxWidth:"max-content"},children:[(0,b.jsx)(S.ol,{}),(0,b.jsx)(S.xB,{children:(0,b.jsxs)(l.xv,{fontSize:"2xl",fontWeight:"bold",color:"teal.600",children:[(0,b.jsx)(D.qE,{bg:"teal.500",color:"whiteAlpha.900",icon:(0,b.jsx)(d.G,{icon:N.a1})}),"\xa0C\u1eadp nh\u1eadt c\xf4ng vi\u1ec7c"]})}),(0,b.jsxs)(S.fe,{sx:{display:"flex",flexDirection:"row",gap:"0.5rem"},children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",flex:1,flexDirection:"column",gap:"0.5rem",p:2},as:"form",onSubmit:I((function(e){var n=z()(e.startAt).format("YYYY-MM-DDTHH:mm:ssZ"),t=z()(e.endAt).format("YYYY-MM-DDTHH:mm:ssZ");o(a?(0,Y.vr)((0,f.Z)((0,f.Z)({},e),{},{event:i,startAt:n,endAt:t,assignees:B})):(0,Y.xJ)((0,f.Z)((0,f.Z)({},e),{},{id:r,event:i,startAt:n,endAt:t,assignees:B})))})),children:[(0,b.jsx)(E.Z,{control:C,name:"name",type:"text",label:"T\xean c\xf4ng vi\u1ec7c",rules:L.name}),(0,b.jsx)(E.Z,{control:C,name:"description",type:"textarea",label:"M\xf4 t\u1ea3",rules:L.description}),(0,b.jsx)(E.Z,{control:C,name:"startAt",type:"datetime-local",label:"B\u1eaft \u0111\u1ea7u",rules:L.startAt}),(0,b.jsx)(E.Z,{control:C,name:"endAt",type:"datetime-local",label:"K\u1ebft th\xfac",rules:L.endAt}),r&&(0,b.jsx)(T.Qr,{name:"status",rules:L.status,control:C,render:function(e){var n=e.field,t=n.onChange,i=n.onBlur,r=n.value,s=n.ref,l=e.fieldState.error;return(0,b.jsxs)(R.NI,{isInvalid:!!l,children:[(0,b.jsx)(R.lX,{children:"Tr\u1ea1ng th\xe1i"}),(0,b.jsxs)(O.Ph,{onChange:t,onBlur:i,value:r,ref:s,children:[(0,b.jsx)("option",{value:A.N3.CREATED,children:A.X$.CREATED}),(0,b.jsx)("option",{value:A.N3.IN_PROGRESS,children:A.X$.IN_PROGRESS}),(0,b.jsx)("option",{value:A.N3.DONE,children:A.X$.DONE})]}),l&&(0,b.jsx)(R.J1,{children:null===l||void 0===l?void 0:l.message})]})}}),(0,b.jsx)(l.xu,{direction:"row",sx:{maxW:"249px",flexWrap:"wrap",justifyContent:"flex-start",span:{width:"1.5rem",height:"1.5rem",m:1,div:{fontSize:"9pt"}}},children:null===B||void 0===B?void 0:B.map((function(e){return(0,b.jsx)(l.xu,{cursor:"pointer",display:"inline-block",onClick:function(){return function(e){W(B.filter((function(n){return n.id!==e.id})))}(e)},children:(0,b.jsx)(D.qE,{name:e.name,src:e.avatarUrl})},"member-".concat(e.id))}))}),(0,b.jsxs)(c.zx,{type:"submit",width:"100%",mt:2,colorScheme:"facebook",children:[(0,b.jsx)(d.G,{icon:y.Ed}),"\xa0L\u01b0u"]})]}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flex:1,flexDirection:"column",gap:"0.5rem",p:2,width:"max-content"},children:[(0,b.jsx)(l.xv,{fontWeight:"medium",children:"Th\xe0nh vi\xean:"}),(null===g||void 0===g||null===(e=g.members)||void 0===e?void 0:e.length)>0&&(0,b.jsx)(l.xu,{sx:{display:"flex",flexDirection:"column",gap:"0.3rem",width:"100%",alignItems:"start"},children:null===g||void 0===g||null===(n=g.members)||void 0===n?void 0:n.map((function(e){return(0,b.jsxs)(c.zx,{variant:"ghost",onClick:function(){return n=e,void(B.find((function(e){return e.id===n.id}))||W([].concat((0,Z.Z)(B),[n])));var n},children:[(0,b.jsx)(D.qE,{name:e.login,src:e.avatarUrl,size:"sm",bg:"teal.500",color:"whiteAlpha.900"},"user-".concat(e.id)),"\xa0",e.login]},JSON.stringify(e))}))})]})]})]})]})}function $(){var e=(0,m.UO)(),n=e.eventID,t=e.taskID,i=(0,u.I0)(),r=(0,m.TH)(),s=(0,m.s0)(),a=function(){var e,n;s((null===(e=r.state)||void 0===e||null===(n=e.backgroundLocation)||void 0===n?void 0:n.pathname)||-1)};return(0,b.jsxs)(S.u_,{isOpen:!0,onClose:a,children:[(0,b.jsx)(S.ZA,{}),(0,b.jsxs)(S.hz,{children:[(0,b.jsxs)(S.xB,{children:["[S\u1ef1 ki\u1ec7n ",n,"]X\xe1c nh\u1eadn x\xf3a c\xf4ng vi\u1ec7c"]}),(0,b.jsx)(S.ol,{}),(0,b.jsx)(S.fe,{children:(0,b.jsxs)(l.xv,{children:["B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a c\xf4ng vi\u1ec7c ",t,"?"]})}),(0,b.jsxs)(S.mz,{children:[(0,b.jsx)(c.zx,{colorScheme:"red",mr:3,onClick:function(){i((0,Y._5)(t))},children:"\u0110\u1ed3ng \xfd"}),(0,b.jsx)(c.zx,{variant:"ghost",onClick:a,children:"H\u1ee7y"})]})]})]})}function J(){var e=(0,u.I0)(),n=(0,m.s0)(),t=(0,m.TH)();return(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"column"},children:[(0,b.jsx)(l.X6,{color:a.rS.colors.green[500],variant:"h1",size:"lg",children:"S\u01b0\u0323 ki\xea\u0323n"}),(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDir:"row",justifyContent:"space-between",mt:5,gap:5},children:[(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDir:"row",flex:1},as:"form",noValidate:!0,children:[(0,b.jsx)(o.II,{placeholder:"Ti\u0300m ki\xea\u0301m..."}),(0,b.jsx)(c.zx,{type:"submit",children:(0,b.jsx)(d.G,{icon:r.Y$})})]}),(0,b.jsxs)(c.zx,{colorScheme:"green",onClick:function(){n("new",{state:{backgroundLocation:t}})},children:[(0,b.jsx)(d.G,{icon:i.r8}),"\xa0",(0,b.jsx)(l.xv,{display:{base:"none",md:"inline"},children:"Th\xeam s\u01b0\u0323 ki\xea\u0323n"})]})]}),(0,b.jsx)(x.Z5,{onDragEnd:function(n){var t=n.source,i=n.destination;i&&(t.droppableId===i.droppableId&&e((0,Y.HP)({sourceIndex:t.index,destinationIndex:i.index,statusName:t.droppableId})),t.droppableId!==i.droppableId&&console.log("Dragged to a different list"))},children:(0,b.jsxs)(l.xu,{sx:{display:"flex",flexDirection:"row",mt:5,gap:"2rem"},children:[(0,b.jsx)(C,{title:"S\u0103\u0301p di\xea\u0303n ra",dropgableID:A.sL[A.X$.CREATED],eventStatus:A.N3.CREATED}),(0,b.jsx)(C,{title:"\u0110ang di\xea\u0303n ra",dropgableID:A.sL[A.X$.IN_PROGRESS],eventStatus:A.N3.IN_PROGRESS}),(0,b.jsx)(C,{title:"\u0110a\u0303 k\xea\u0301t thu\u0301c",dropgableID:A.sL[A.X$.DONE],eventStatus:A.N3.DONE})]})})]})}function U(){var e,n,t=(0,u.I0)(),i=(0,m.TH)(),r=(0,u.v9)((function(e){return e.eventMgmt})).updateSuccess;return(0,s.useEffect)((function(){t((0,Y.sZ)({page:0,size:30}))}),[]),(0,s.useEffect)((function(){r&&t((0,Y.sZ)({page:0,size:30}))}),[r]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(m.Z5,{location:(null===(e=i.state)||void 0===e?void 0:e.backgroundLocation)||i,children:[(0,b.jsx)(m.AW,{path:"/",element:(0,b.jsx)(J,{})}),(0,b.jsx)(m.AW,{path:"/:eventID",element:(0,b.jsx)(_,{})})]}),(null===(n=i.state)||void 0===n?void 0:n.backgroundLocation)&&(0,b.jsxs)(m.Z5,{children:[(0,b.jsx)(m.AW,{path:"/new",element:(0,b.jsx)(H,{})}),(0,b.jsx)(m.AW,{path:"/:eventID/tasks/new",element:(0,b.jsx)(P,{})}),(0,b.jsx)(m.AW,{path:"/:eventID/tasks/:taskID",element:(0,b.jsx)(P,{})}),(0,b.jsx)(m.AW,{path:"/:eventID/tasks/:taskID/delete",element:(0,b.jsx)($,{})})]})]})}}}]);
//# sourceMappingURL=616.585e6f79.chunk.js.map